{% extends "layout.html" %}
{% block content %}
<script>
    var drawingPattern = {{ drawing_pattern }};
    var drawingId = {{ drawing_id }};
</script>
<div class="content-section">
    <form method="POST" action="">
        <fieldset class="form-group">
            <legend class="border-bottom mb-4">Modify Drawing</legend>
            <div class="row">
                <div class="col">
                    <p class="fw-light">Modify drawing pattern or rename the drawing here.</p>
                </div>
            </div>
            <div class="form-group row">
                <div class="col">
                    <label for="namebox" class="fw-light">Drawing name:</label>
                    <input type="text" name="drawing-name" class="form-control form-control-lg" id="namebox" value="{{ drawing_name }}" required />
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <button type="submit" class="btn btn-info">Save</button>
                    <button type="reset" class="btn btn-outline-info" onclick="pattern = resetButtons(pattern, event)">Reset</button>
                    <a href="drawings" class="btn btn-outline-secondary">Cancel</a>
                    <button type="submit" class="btn btn-outline-danger" name="delete" value="true">Delete</button>
                </div>
            </div>
            <div class="row mt-2">
                <div class="col">
                    {% include "led_matrix_table.html" %}
                </div>
            </div>
            <div class="row" hidden>
                <div class="col">
                    <input type="text" name="patternbox" class="form-control form-control-lg mt-2" id="arraybox" readonly />
                    <input type="text" name="drawing-id" class="form-control form-control-lg mt-2" id="drawingId" readonly />
                </div>
            </div>
            <div class="row" {{ is_hidden }}>
                <div class="col">
                    <div class="alert alert-danger" role="alert">
                        The drawing with the same name already exists.
                    </div>
                </div>
            </div>
        </fieldset>
    </form>
</div>

<script>
    var pattern = drawingPattern;
    loadButtons(drawingPattern);
    displayClickedButtons(drawingPattern);
    idBox = document.getElementById('drawingId');
    idBox.value = drawingId;
</script>

{% endblock %}
